# 策略模式

## 介绍

策略模式（Strategy Pattern）：定义了一系列算法，并将每一个算法封装起来，而且使它们还可以相互替换。**策略模式让算法独立于使用它的客户而独立变化。**

行为型模式

策略模式用一个成语就可以概括 —— 殊途同归。当我们做同一件事有多种方法时，就可以将每种方法封装起来，**在不同的场景选择不同的策略**，调用不同的方法。

提高了代码的灵活性，当有新的策略时，只需创建新的策略，符合OCP原则。



如`Arrays.sort()`方法，比较器`Comparator`就是策略接口。

传入不同的比较器（策略），他们得到的结果都是排序后的结果，只是排序方式（策略）不同。

```java
public static <T> void sort(T[] a, Comparator<? super T> c) {
    if (c == null) {
        sort(a);
    } else {
        if (LegacyMergeSort.userRequested)
            legacyMergeSort(a, c);
        else
            TimSort.sort(a, 0, a.length, c, null, 0, 0);
    }
}
```



## 注意

策略模式与状态模式非常类似，甚至他们的 UML 类图都是一模一样的。两者**都是采用一个（状态/策略）变量来控制程序的行为**。策略模式通过不同的**策略**执行不同的行为，状态模式通过不同的**状态值**执行不同的行为。两者的代码很类似，他们的区别主要在于程序的**目的不同**。

